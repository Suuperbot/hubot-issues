
introduction:
  something is broken:
    hubot offers to track it:
      - rachael> the jetpack is broken
      - hubot> maybe you found a bug on "the jetpack"? do you wan't me to track it?
      - rachael> yes, please
      - hubot> just say "I found a bug, <a good concise description>"
  how do I track issues?:
    hubot explains:
      - rachael> @hubot how do you track issues?
      - hubot> just say "I found a bug, <a good concise description>"
track new issues:
  I found ...:
    hubot tracks it:
      - rachael> I found a bug, jetpack is broken
      - "hubot> nice catch @rachael!, tracked as #1"
      -
        brain:
          hubotissues:
            -
              id: 1
              description: jetpack is broken
              author: rachael
              state: pending

a pending issue:
  before each:
    - rachael> I found a bug, jetpack is broken
    - "hubot> nice catch @rachael!, tracked as #1"
  I'm fixing:
    hubot tracks that:
      - "zhora> fixing #1"
      - "hubot> good luck with that"
      -
        brain:
          hubotissues:
            -
              id: 1
              description: jetpack is broken
              author: rachael
              assignee: zhora
              state: pending
  I'm fixing that (recently mentioned issue):
    hubot tracks that too:
      - "zhora> fixing that"
      - "hubot> good luck with that"
      -
        brain:
          hubotissues:
            -
              id: 1
              description: jetpack is broken
              author: rachael
              assignee: zhora
              state: pending
  fixed:
    hubot asks for verification:
      - "zhora> fixed #1"
      - hubot> sweet!, @rachael can you verify? (#1 jetpack is broken)
      -
        brain:
          hubotissues:
            -
              id: 1
              description: jetpack is broken
              author: rachael
              assignee: zhora
              state: fixed

fixing an issue:
  before each:
    - rachael> I found a bug, jetpack is broken
    - "hubot> nice catch @rachael!, tracked as #1"
    - "zhora> fixing #1"
    - hubot> good luck with that
  fixing again:
    hubot already knows that:
      - "zhora> fixing #1"
      - "hubot> yes, we know that"
  someone else tries to fix:
    hubot prevents collisions:
      - "pris> fixing #1"
      - "hubot> wait! @zhora is already doing that"
  not fixing anymore:
    hubot asks for a volunteer to continue with it:
      - "zhora> I'm not fixing #1"
      - "hubot> no problem, someone else will volunteer"
  fixed:
    hubot asks for verification:
      - "zhora> fixed #1"
      - hubot> sweet!, @rachael can you verify? (#1 jetpack is broken)
    hubot tells you if someone else was fixing it:
      - "pris> fixed #1"
      - hubot> I thought @zhora was doing that
      - hubot> sweet!, @rachael can you verify? (#1 jetpack is broken)
  fixed that:
    hubot asks for verification:
      - "zhora> fixed that"
      - hubot> sweet!, @rachael can you verify? (#1 jetpack is broken)
  fixed it myself:
    hubot considers it verified:
      - "rachael> I fixed that"
      - hubot> I thought @zhora was doing that
      - hubot> sweet!, you did it yourself
      -
        brain:
          hubotissues:
            -
              id: 1
              description: jetpack is broken
              author: rachael
              assignee: rachael
              state: verified
  is a duplicate:
    hubot will tell the author:
      - rachael> I found a bug, jetpack is not working
      - "hubot> nice catch @rachael!, tracked as #2"
      - "zhora> that is a duplicate of #1"
      - "hubot> got it, #2 is gone, added @rachael comment to #1"
    if you don't say it, hubot will ask you of which:
      - rachael> I found a bug, jetpack is not working
      - "hubot> nice catch @rachael!, tracked as #2"
      - "zhora> dup"
      - "hubot> duplicate of which?"
      - "zhora> of #1"
      - "hubot> got it, #2 is gone, added @rachael comment to #1"
    works the other way around too:
      - rachael> I found a bug, jetpack is not working
      - "hubot> nice catch @rachael!, tracked as #2"
      - "zhora> #1 is a duplicate of that"
      - "hubot> got it, #1 is gone, added @rachael comment to #2"
    works the other way around too:
      - rachael> I found a bug, jetpack is not working
      - "hubot> nice catch @rachael!, tracked as #2"
      - "zhora> #1 is a duplicate of that"
      - "hubot> got it, #1 is gone, added @rachael comment to #2"
  needs clarification:
    hubot will ask the author for it:
      - "zhora> #1 needs clarification, is it on fire?"
      - "hubot> @rachael, can you answer that? (about jetpack is broken)"
    hubot will ask you for a question:
      - "zhora> that needs clarification"
      - "hubot> what's your question?"
      - "zhora> is it on fire?"
      - "hubot> @rachael, can you answer that? (about jetpack is broken)"
  adding information:
    comment about an issue:
      hubot will remember it:
        - "rachael> about that, it's on fire!"
        - "hubot> got it"
        -
          brain:
            hubotissues:
              -
                id: 1
                description: jetpack is broken
                author: rachael
                assignee: zhora
                state: pending
                log:
                  - rachael> it's on fire!
      hubot will ask for a comment:
        - "rachael> about that"
        - "hubot> tell me"
        - "rachael> it's on fire!"
        - "hubot> got it"
        -
          brain:
            hubotissues:
              -
                id: 1
                description: jetpack is broken
                author: rachael
                assignee: zhora
                state: pending
                log:
                  - rachael> it's on fire!

    tagging an issue:
      hubot will add tags:
        - "rachael> #1 is awful, critical and blocker"
        - "hubot> #1 is now #awful, #critical and #blocker"
        -
          brain:
            hubotissues:
              -
                id: 1
                description: jetpack is broken
                author: rachael
                assignee: zhora
                state: pending
                tags:
                  - awful
                  - critical
                  - blocker
    tagging multiple issues:
      hubot will tag them all:
        - rachael> I found a bug, laser gun is broken
        - "hubot> nice catch @rachael!, tracked as #2"
        - rachael> I found a bug, hoverboard is out of battery
        - "hubot> nice catch @rachael!, tracked as #3"
        - "rachael> that and 1 are awful"
        - "hubot> #3 and #1 are now #awful"
        - "rachael> 2 and 3 are critical"
        - "hubot> #2 and #3 are now #critical"
        - "rachael> 1, 2 and 3 are important"
        - "hubot> #1, #2 and #3 are now #important"
        -
          brain:
            hubotissues:
              -
                id: 1
                description: jetpack is broken
                author: rachael
                assignee: zhora
                state: pending
                tags:
                  - awful
                  - important
              -
                id: 2
                description: laser gun is broken
                author: rachael
                state: pending
                tags:
                  - critical
                  - important
              -
                id: 3
                description: hoverboard is out of battery
                author: rachael
                state: pending
                tags:
                  - awful
                  - critical
                  - important

      hubot will remove tags:
        - "rachael> #1 is awful, critical and blocker"
        - "hubot> #1 is now #awful, #critical and #blocker"
        - "rachael> #1 is not awful"
        - "hubot> #1 is now #critical and #blocker"
        - "rachael> #1 is not critical and not blocker"
        - "hubot> #1 has no tags"
        -
          brain:
            hubotissues:
              -
                id: 1
                description: jetpack is broken
                author: rachael
                assignee: zhora
                state: pending

issue details:
  before each:
    - rachael> I found a bug, jetpack is broken
    - "hubot> nice catch @rachael!, tracked as #1"
    - "zhora> fixing #1"
    - hubot> good luck with that
    - rachael> I found a bug, laser gun is overheating
    - "hubot> nice catch @rachael!, tracked as #2"
    - rachael> and the trigger is jammed
    - "hubot> got it"
    - rachael> that is critical
    - "hubot> #2 is now #critical"
    - "zhora> about that, use grenades in the meantime"
    - "hubot> got it"
  asking about a pending issue getting fixed:
    hubot has the details:
    - "pris> 1?"
    - "hubot> pending, #1 jetpack is broken, by @rachael, getting fixed by @zhora"
  asking about a pending issue with tags and comments:
    hubot has the details:
    - "pris> 2?"
    - "hubot> pending, #2 laser gun is overheating #critical, by @rachael\n- rachael> the trigger is jammed\n- zhora> use grenades in the meantime"

a fixed issue:
  before each:
    - rachael> I found a bug, jetpack is broken
    - "hubot> nice catch @rachael!, tracked as #1"
    - "zhora> fixed that"
    - hubot> sweet!, @rachael can you verify? (#1 jetpack is broken)
  reject:
    author rejects it:
      hubot will ask for more fixing:
        - "rachael> reject 1"
        - "hubot> oops!, #1 is going to need more fixing @zhora"
        -
          brain:
            hubotissues:
              -
                id: 1
                description: jetpack is broken
                author: rachael
                assignee: zhora
                state: pending
    asignee rejects it:
      hubot will ask for more fixing:
        - "zhora> reject 1"
        - "hubot> oops!, no problem, let me know when it's fixed"
    someone else rejects it:
      hubot will ask for more fixing:
        - "pris> reject that"
        - "hubot> oops!, #1 is going to need more fixing @zhora"

  verify:
    author verifies it:
      hubot will notify the fixer:
        - "rachael> verified 1"
        - "hubot> great news!, @zhora good work fixing #1 jetpack is broken"
        -
          brain:
            hubotissues:
              -
                id: 1
                description: jetpack is broken
                author: rachael
                assignee: zhora
                state: verified
    asignee verifies it:
      hubot only lets the author do that:
        - "zhora> verified 1"
        - "hubot> that's great, but I'll wait for @rachael to verify that"
    someone else verifies it:
      hubot only lets the author do that:
        - "pris> verified 1"
        - "hubot> that's great, but I'll wait for @rachael to verify that"

delete:
  before each:
    - rachael> I found a bug, jetpack is broken
    - "hubot> nice catch @rachael!, tracked as #1"
  delete one issue:
    if you're the author hubot just does it:
    - rachael> delete that
    - "hubot> #1 is gone"
    -
      brain:
        hubotissues: []
    otherwise it will let the author know:
    - "pris> delete #1"
    - "hubot> #1 is gone (jetpack is broken by @rachael)"
  delete verified issues:
    hubot deletes them all:
    - rachael> I found a bug, laser gun is jammed
    - "hubot> nice catch @rachael!, tracked as #2"
    - rachael> I found a bug, hoverboard is out of battery
    - "hubot> nice catch @rachael!, tracked as #3"
    - zhora> fixed 1
    - hubot> sweet!, @rachael can you verify? (#1 jetpack is broken)
    - rachael> verified that
    - "hubot> great news!, @zhora good work fixing #1 jetpack is broken"
    - zhora> fixed 3
    - hubot> sweet!, @rachael can you verify? (#3 hoverboard is out of battery)
    - rachael> verified that
    - "hubot> great news!, @zhora good work fixing #3 hoverboard is out of battery"
    - rachael> delete verified issues
    - hubot> 2 issue(s) deleted

lists:
  before each:
    # add some bugs
    - rachael> I found a bug, jetpack is broken
    - "hubot> nice catch @rachael!, tracked as #1"
    - rachael> I found a bug, laser gun is broken
    - "hubot> nice catch @rachael!, tracked as #2"
    - rachael> I found a bug, hoverboard is out of battery
    - "hubot> nice catch @rachael!, tracked as #3"
    - rachael> I found a bug, flux capacitor is burnt
    - "hubot> nice catch @rachael!, tracked as #4"
    # diverse states
    - zhora> fixing 2
    - hubot> good luck with that
    - pris> I did 3
    - "hubot> sweet!, @rachael can you verify? (#3 hoverboard is out of battery)"
    - zhora> 4 is fixed
    - "hubot> sweet!, @rachael can you verify? (#4 flux capacitor is burnt)"
    - rachael> that's verified
    - "hubot> great news!, @zhora good work fixing #4 flux capacitor is burnt"
  pending bugs?:
    hubot lists pending bugs:
      - zhora> pending bugs?
      - |
        hubot> == pending ==
        - #1 jetpack is broken, by @rachael
        - #2 laser gun is broken, by @rachael, getting fixed by @zhora
  bugs?:
    hubot lists pending and fixed bugs:
      - zhora> bugs?
      - |
        hubot> == pending ==
        - #1 jetpack is broken, by @rachael
        - #2 laser gun is broken, by @rachael, getting fixed by @zhora
        == fixed ==
        - #3 hoverboard is out of battery, by @rachael, fixed by @pris
  verified bugs?:
    hubot lists verified bugs:
      - zhora> verified bugs?
      - |
        hubot> == verified ==
        - #4 flux capacitor is burnt, by @rachael, fixed by @zhora
  by tag:
    hubot will get them:
      - rachael> 2 and 3 are important
      - "hubot> #2 and #3 are now #important"
      - rachael> 3 is fun
      - "hubot> #3 is now #important and #fun"
      - zhora> important bugs?
      - |
        hubot> == pending ==
        - #2 laser gun is broken #important, by @rachael, getting fixed by @zhora
        == fixed ==
        - #3 hoverboard is out of battery #important and #fun, by @rachael, fixed by @pris

my issues:
  has issues I have to verify:
    - rachael> my issues?
      - |
        hubot> == fixed ==
        - #3 hoverboard is out of battery, by @rachael, fixed by @pris
  has issues I'm fixing:
    - zhora> what can I fix next?
      - |
        hubot> == pending ==
        - #2 laser gun is broken #important, by @rachael, getting fixed by @zhora
  otherwise it has issues I could fix:
    - pris> what can I do?
      - |
        hubot>== pending ==
        - #1 jetpack is broken, by @rachael

notifications:
  if pending issues are waiting:
  if an issue is still getting fixed:
  if an issue is waiting for clarification:
  if an issue is waiting for verification:
